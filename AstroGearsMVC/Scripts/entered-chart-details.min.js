var EnteredChartDetails;(function(n){function p(n){$.ajaxSetup({cache:!1});$("#editCoordinatesModal").modal("show");var t=$.getJSON("/EnteredCharts/GetSelectedAspectChartObject",{id:n}).done(function(n){var t=!n.OrientationAbbreviation?"":" "+n.OrientationAbbreviation;$("#editCoordinatesObjectName").html(n.CelestialObjectName);$("#editCoordinatesDegrees").val(("0"+n.Degrees).slice(-2));$("#editCoordinatesSigns").val(n.SignId);$("#editCoordinatesMinutes").val(("0"+n.Minutes).slice(-2));$("#editCoordinatesSeconds").val(("0"+n.Seconds).slice(-2));$("#editCoordinatesChartObjectId").val(n.ChartObjectId);$("#editCoordinatesOrientations").val(n.OrientationId);$("#editCoordinatesEnteredChartId").val(n.EnteredChartID)}).fail(function(){console.log("Header Load Fail.");return});$.ajaxSetup({cache:!0})}function h(n,t){var i=0,r=$.getJSON("/CelestialObjects/CelestialObjectExists",{celestialObjectName:n}).done(function(r){i=r?c(n):l(n);IsInRange($("#newAsteroid"+t+"CoordinatesDegrees").val(),0,29)&&$("#newAsteroid"+t+"CoordinatesSigns").val()!=="---"&&IsInRange($("#newAsteroid"+t+"CoordinatesMinutes").val(),0,59)&&IsInRange($("#newAsteroid"+t+"CoordinatesSeconds").val(),0,59)&&a($("#enteredchartid").val(),n,i,$("#newAsteroid"+t+"CoordinatesDegrees").val(),$("#newAsteroid"+t+"CoordinatesMinutes").val(),$("#newAsteroid"+t+"CoordinatesSeconds").val(),$("#newAsteroid"+t+"CoordinatesSigns").val(),$("#newAsteroid"+t+"CoordinatesOrientations").val())}).fail(function(n,t,i){var r=t+", "+i;console.log("Failed to check existence of celestial object: "+r)})}function c(n){var t;return $.getJSON("/CelestialObjects/GetCelestialObjectId",{celestialObjectName:n}).done(function(n){t=n}).fail(function(n,t,i){var r=t=", "+i;console.log("Failed to get Celestial Object Id: "+r)}),t}function l(n){var i=n.trim().indexOf("*")===0?4:2,r=n.trim().indexOf("*")===0?1:1.5,t,u=$.getJSON("/CelestialObjects/CreateNewCelestialObject",{celestialObjectName:n,celestialObjectTypeId:i,allowableOrb:r}).done(function(n){t=n});return t}function a(n,t,i,r,u,f,e,o){var s=$.getJSON("/EnteredCharts/CreateChartObjectForEnteredChart",{enteredChartId:n,degrees:r,signId:e,minutes:u,seconds:f,orientationId:o,celestialObjectId:i}).done(function(){}).fail(function(n,t,i){var r=t+", "+i;console.log("New Asteroid or Fixed Star Entry failure: "+r)})}function w(){$.ajaxSetup({cache:!1});var n=[];$.each({1:"FirstHouse",2:"SecondHouse",3:"ThirdHouse",4:"FourthHouse",5:"FifthHouse",6:"SixthHouse",7:"SeventhHouse",8:"EighthHouse",9:"NinthHouse",10:"TenthHouse",11:"EleventhHouse",12:"TwelfthHouse"},function(t,i){var r;$("#edit"+i+"CoordinatesDegrees").val()!=="--"&&$("#edit"+i+"CoordinatesSigns").val()!=="---"&&$("#edit"+i+"CoordinatesMinutes").val()!=="--"&&$("#edit"+i+"CoordinatesSeconds").val()!=="--"&&($("#edit"+i+"ChartHouseId").val()==""?(r=$.post("/EnteredCharts/CreateHouseCuspForEnteredChart",{enteredChartId:$("#enteredchartid").val(),degrees:$("#edit"+i+"CoordinatesDegrees").val(),signId:$("#edit"+i+"CoordinatesSigns").val(),minutes:$("#edit"+i+"CoordinatesMinutes").val(),seconds:$("#edit"+i+"CoordinatesSeconds").val(),houseSystemId:$("#editHouseSystem").val(),houseId:t}).done(function(){}).fail(function(){console.log("Save Fail.");return}),n.push(r)):(r=$.post("/EnteredCharts/UpdateHouseCuspForEnteredChart",{chartHouseId:$("#edit"+i+"ChartHouseId").val(),degrees:$("#edit"+i+"CoordinatesDegrees").val(),signId:$("#edit"+i+"CoordinatesSigns").val(),minutes:$("#edit"+i+"CoordinatesMinutes").val(),seconds:$("#edit"+i+"CoordinatesSeconds").val(),houseSystemId:$("#editHouseSystem").val()}).done(function(){}).fail(function(){console.log("Save Fail.");return}),n.push(r)))});$.each({0:"Vertex",1:"Ascendant",2:"Midheaven"},function(t,i){var r;$("#edit"+i+"CoordinatesDegrees").val()!=="--"&&$("#edit"+i+"CoordinatesSigns").val()!=="---"&&$("#edit"+i+"CoordinatesMinutes").val()!=="--"&&$("#edit"+i+"CoordinatesSeconds").val()!=="--"&&($("#edit"+i+"ChartAngleId").val()==""?(r=$.post("/EnteredCharts/CreateAngleForEnteredChart",{enteredChartId:$("#enteredchartid").val(),degrees:$("#edit"+i+"CoordinatesDegrees").val(),signId:$("#edit"+i+"CoordinatesSigns").val(),minutes:$("#edit"+i+"CoordinatesMinutes").val(),seconds:$("#edit"+i+"CoordinatesSeconds").val(),angleId:t}).done(function(){}).fail(function(){console.log("Save Fail.");return}),n.push(r)):(r=$.post("/EnteredCharts/UpdateAngleForEnteredChart",{chartAngleId:$("#edit"+i+"ChartAngleId").val(),degrees:$("#edit"+i+"CoordinatesDegrees").val(),signId:$("#edit"+i+"CoordinatesSigns").val(),minutes:$("#edit"+i+"CoordinatesMinutes").val(),seconds:$("#edit"+i+"CoordinatesSeconds").val()}).done(function(){}).fail(function(){console.log("Save Fail.");return}),n.push(r)))});$.when(n).done(function(){t=!0;$("#chartbody").empty();i.show();u($("#enteredchartid").val());s($("#enteredchartid").val());i.hide();t=!1});$("#editHouseModal").modal("hide");$.ajaxSetup({cache:!0})}function s(n){var r;$.ajaxSetup({cache:!1});var t={1:"firstHouse",2:"secondHouse",3:"thirdHouse",4:"fourthHouse",5:"fifthHouse",6:"sixthHouse",7:"seventhHouse",8:"eighthHouse",9:"ninthHouse",10:"tenthHouse",11:"eleventhHouse",12:"twelfthHouse"},i={0:"vertex",1:"ascendant",2:"midheaven",3:"antivertex",4:"descendant",5:"imumCoeli"},r=$.getJSON("/EnteredCharts/GetDetailsHouseListing",{chartId:n,houseSystemId:$("#charthousesystems").val()}).done(function(n){$.each(t,function(n,t){$("#"+t).empty()});$.each(n,function(n,i){var r=i.Degrees+'° <span class="'+i.HtmlTextCssClass+'">'+i.SignAbbreviation+"<\/span> "+i.Minutes+"' "+i.Seconds+'"';$("#"+t[i.HouseId]).html(r)})}).fail(function(n,t,i){var r=t+", "+i;console.log("Chart Reload failure: "+r)}),r=$.getJSON("/EnteredCharts/GetDetailsAngleListing",{chartId:n}).done(function(n){$.each(i,function(n,t){$("#"+t).empty()});$.each(n,function(n,t){var r=t.Degrees+'° <span class="'+t.HtmlTextCssClass+'">'+t.SignAbbreviation+"<\/span> "+t.Minutes+"' "+t.Seconds+'"';$("#"+i[t.AngleId]).html(r)})}).fail(function(n,t,i){var r=t+", "+i;console.log("Chart Reload failure: "+r)});$("#includedraconic").is(":checked")?($("#draconicHouses").show(),r=$.getJSON("/EnteredCharts/GetDetailsDraconicHouseListing",{chartId:n,houseSystemId:$("#charthousesystems").val()}).done(function(n){$.each(t,function(n,t){$("#"+t+"Draconic").empty()});$.each(n,function(n,i){var r=i.Degrees+'° <span class="'+i.HtmlTextCssClass+'">'+i.SignAbbreviation+"<\/span> "+i.Minutes+"' "+i.Seconds+'"';$("#"+t[i.HouseId]+"Draconic").html(r)})}).fail(function(n,t,i){var r=t+", "+i;console.log("Chart Reload failure: "+r)}),r=$.getJSON("/EnteredCharts/GetDetailsDraconicAngleListing",{chartId:n}).done(function(n){$.each(i,function(n,t){$("#"+t+"Draconic").empty()});$.each(n,function(n,t){var r=t.Degrees+'° <span class="'+t.HtmlTextCssClass+'">'+t.SignAbbreviation+"<\/span> "+t.Minutes+"' "+t.Seconds+'"';$("#"+i[t.AngleId]+"Draconic").html(r)})}).fail(function(n,t,i){var r=t+", "+i;console.log("Chart Reload failure: "+r)})):$("#draconicHouses").hide();$.ajaxSetup({cache:!0})}function e(n){var t=$.getJSON("/EnteredCharts/GetExistenceOfPlanetsAndSecondaries",{chartId:n}).done(function(n){try{n[0].AllPlanetsAndLuminariesExist?$("#addPlanets").hide():$("#addPlanets").show();n[0].AllSecondaryObjectsExist?$("#addSecondaries").hide():$("#addSecondaries").show()}catch(t){console.log(t);$("#addPlanets").show();$("#addSecondaries").show()}})}function u(n){t=!0;r=!1;$.ajaxSetup({cache:!1});var i=$.getJSON("/EnteredCharts/GetDetailsChartListing",{id:n,draconic:$("#includedraconic").is(":checked"),arabic:$("#includearabic").is(":checked"),asteroids:$("#includeasteroids").is(":checked"),stars:$("#includestars").is(":checked"),houseSystemId:$("#charthousesystems").val()}).done(function(n){$.each(n,function(n,t){var i,r;i=t.Draconic===!0?$('<tr class="draconic"/>'):$("<tr/>");switch(t.CelestialObjectTypeName){case"Arabic Part":r=t.Draconic===!0?$('<td class="arabic-part draconic"/>'):$('<td class="arabic-part"/>');break;case"Major Planet/Luminary":r=t.Draconic===!0?$('<td class="planet-luminary draconic"/>'):$('<td class="planet-luminary"/>');break;case"Fixed Star":r=$('<td class="fixed-star"/>');break;case"Angle/House Cusp":r=t.Draconic===!0?$('<td class="house-cusp draconic"/>'):$('<td class="house-cusp"/>');break;default:r=t.Draconic===!0?$('<td class="draconic"/>'):$("<td/>")}i.append(r.html(t.CelestialObjectName));var f=$("<td/>"),e=!t.OrientationAbbreviation?"":" "+t.OrientationAbbreviation,u=t.Degrees+'° <span class="'+t.HtmlTextCssClass+'">'+t.SignAbbreviation+"<\/span> "+t.Minutes+"' "+t.Seconds+'"'+e;f.html(u);i.append(f);t.House!=0?i.append($("<td/>").html(t.House)):i.append($("<td/>").html("&nbsp;"));t.Draconic===!0?i.append($("<td/>").append($('<a href="#" onclick="EnteredChartDetails.GetAspectsForDraconicChart(\''+t.CelestialObjectName+"', '"+u.replace(/\'/g,"\\&#39;").replace(/"/g,"&quot;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;")+'\');return false;" title="View Aspects"/>').append('<span class="fa fa-search"/>'))):t.CelestialObjectTypeName==="Arabic Part"?i.append($("<td/>").append($('<a href="#" onclick="EnteredChartDetails.GetAspectsForArabicChart(\''+t.CelestialObjectName+"', '"+u.replace(/\'/g,"\\&#39;").replace(/"/g,"&quot;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;")+'\');return false;" title="View Aspects"/>').append('<span class="fa fa-search"/>'))):t.CelestialObjectTypeName==="Angle/House Cusp"?i.append($("<td/>").append($('<a href="#" onclick="EnteredChartDetails.GetAspectsForAngleChart('+t.AngleId+", '"+t.CelestialObjectName+"', '"+u.replace(/\'/g,"\\&#39;").replace(/"/g,"&quot;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;")+'\');return false;" title="View Aspects"/>').append('<span class="fa fa-search"/>'))):i.append($("<td/>").append($('<a href="#" onclick="EnteredChartDetails.GetAspects('+t.ChartObjectId+');return false;" title="View Aspects"/>').append('<span class="fa fa-search"/>')).append($('<a href="#" onclick="EnteredChartDetails.OpenEditForm('+t.ChartObjectId+');return false;" title="Edit Coordinates"/>').append('<span class="fa fa-edit"/>')));$("#chartbody").append(i)})}).fail(function(n,t,i){var r=t+", "+i;console.log("Chart Reload failure: "+r)});$.ajaxSetup({cache:!0})}function b(n){t=!1;r=!0;$.ajaxSetup({cache:!1});$("#aspecttarget").empty();$("#aspectlist").empty();var i=$.getJSON("/EnteredCharts/GetSelectedAspectChartObject",{id:n}).done(function(n){var t=!n.OrientationAbbreviation?"":" "+n.OrientationAbbreviation;$("#aspecttarget").html("Aspects to "+n.CelestialObjectName+" ("+n.Degrees+'° <span class="'+n.HtmlTextCssClass+'">'+n.SignAbbreviation+"<\/span> "+n.Minutes+"' "+n.Seconds+'"'+t+")")}).fail(function(){console.log("Header Load Fail.");return}),u=$.getJSON("/EnteredCharts/GetAspectChartObjects",{id:n,chartId:$("#enteredchartid").val(),draconic:$("#includedraconic").is(":checked"),arabic:$("#includearabic").is(":checked"),asteroids:$("#includeasteroids").is(":checked"),stars:$("#includestars").is(":checked"),houseSystemId:$("#charthousesystems").val()}).done(function(n){$.each(n,function(n,t){if(!t.aspectList||!t.aspectList.length)return!0;var i=$("<li/>").append($('<span class="'+t.HtmlTextCssClass+'">').text(t.AspectName)),r=$("<ul/>");$.each(t.aspectList,function(n,i){var e=f(i),o=t.AspectName+n;e.attr("id",o);var s=!i.OrientationAbbreviation?"":" "+i.OrientationAbbreviation,h=i.House!=0?" | House "+i.House:"",u=i.BaseObjectValidForInterpretation&&i.ThisObjectValidForInterpretation?v(i.BaseObjectCelestialObjectId,i.BaseObjectCelestialObjectId!==0?!0:!1,i.BaseObjectAngleId,IsNullOrUndefined(i.BaseObjectAngleId)?!1:!0,i.CelestialObjectId,i.CelestialObjectId!==0?!0:!1,i.AngleId,IsNullOrUndefined(i.AngleId)?!1:!0):null,c=i.BaseObjectValidForInterpretation&&i.ThisObjectValidForInterpretation?' <a href="#" onclick="EnteredChartDetails.GetInterpretation(\'#'+o+"', "+u[0]+", "+u[1]+", "+t.AspectId+", "+u[2]+", "+u[3]+');return false;"><span class="fa fa-search"><\/span><\/a>':"";e.html(i.CelestialObjectName+" ("+i.Degrees+'° <span class="'+i.HtmlTextCssClass+'">'+i.SignAbbreviation+"<\/span> "+i.Minutes+"' "+i.Seconds+'"'+s+h+")"+c);r.append(e)});i.append(r);$("#aspectlist").append(i)})}).fail(function(){console.log("Aspect List Load failure..")});$.ajaxSetup({cache:!0})}function k(n,t,i,r,u,f){if($(n+" > ul").length>0){$(n+" > ul").remove();$(n+" > a > .fa").removeClass("action-successful");return}$(n+" > a > .fa").addClass("action-successful");var e=$('<ul class="detail-interpretation"/>'),o=$.getJSON("/AspectInterpretations/GetSingleChartDetailAspectInterpretationRequest",{celestialObjectId1:t,angleId1:i,aspectId:r,celestialObjectId2:u,angleId2:f}).done(function(n){n.length>0?$.each(n,function(n,t){e.append($("<li/>").html(t.Interpretation.replace(/\n/g,"<br>")+(IsNullOrUndefined(t.CitationUrl)?"":" ("+(t.CitationUrl.substring(0,4)==="http"?'<a href="'+t.CitationUrl+'" target="_blank">'+t.CitationUrl+"<\/a>":t.CitationUrl)+")")))}):e.append($("<li/>").html("(no interpretation available)"))}).fail(function(n,t,i){var r=t+", "+i;console.log("Interpretation Load failure: "+r)});$(n).append(e)}function v(n,t,i,r,u,f,e,o){if(t){if(f)return n>u?[parseInt(n),null,parseInt(u),null]:[parseInt(u),null,parseInt(n),null];if(o)return[parseInt(n),null,null,parseInt(e)]}else if(r){if(f)return[null,parseInt(i),parseInt(u),null];if(o)return i>e?[null,parseInt(i),null,parseInt(e)]:[null,parseInt(e),null,parseInt(i)]}return null}function d(n,i){t=!1;r=!0;$.ajaxSetup({cache:!1});$("#aspecttarget").empty();$("#aspectlist").empty();$("#aspecttarget").html("Aspects to "+n+" ("+i+")");var u=$.getJSON("/EnteredCharts/GetAspectChartObjectsForArabicPart",{chartId:$("#enteredchartid").val(),arabicPartName:n,arabicPartCoordinates:i,draconic:$("#includedraconic").is(":checked"),arabic:$("#includearabic").is(":checked"),asteroids:$("#includeasteroids").is(":checked"),stars:$("#includestars").is(":checked"),houseSystemId:$("#charthousesystems").val()}).done(function(n){$.each(n,function(n,t){if(!t.aspectList||!t.aspectList.length)return!0;var i=$("<li/>").append($('<span class="'+t.HtmlTextCssClass+'">').text(t.AspectName)),r=$("<ul/>");$.each(t.aspectList,function(n,t){var i=f(t),u=!t.OrientationAbbreviation?"":" "+t.OrientationAbbreviation,e=t.House!=0?" | House "+t.House:"";i.html(t.CelestialObjectName+" ("+t.Degrees+'° <span class="'+t.HtmlTextCssClass+'">'+t.SignAbbreviation+"<\/span> "+t.Minutes+"' "+t.Seconds+'"'+u+e+")");r.append(i)});i.append(r);$("#aspectlist").append(i)})}).fail(function(){console.log("Aspect List Load failure..")});$.ajaxSetup({cache:!0})}function g(n,i,u){t=!1;r=!0;$.ajaxSetup({cache:!1});$("#aspecttarget").empty();$("#aspectlist").empty();$("#aspecttarget").html("Aspects to "+i+" ("+u+")");var e=$.getJSON("/EnteredCharts/GetAspectChartObjectsForAngle",{chartId:$("#enteredchartid").val(),angleName:i,angleCoordinates:u,draconic:$("#includedraconic").is(":checked"),arabic:$("#includearabic").is(":checked"),asteroids:$("#includeasteroids").is(":checked"),stars:$("#includestars").is(":checked"),houseSystemId:$("#charthousesystems").val()}).done(function(n){$.each(n,function(n,t){if(!t.aspectList||!t.aspectList.length)return!0;var i=$("<li/>").append($('<span class="'+t.HtmlTextCssClass+'">').text(t.AspectName)),r=$("<ul/>");$.each(t.aspectList,function(n,i){var e=f(i),o=t.AspectName+n;e.attr("id",o);var s=!i.OrientationAbbreviation?"":" "+i.OrientationAbbreviation,h=i.House!=0?" | House "+i.House:"",u=i.BaseObjectValidForInterpretation&&i.ThisObjectValidForInterpretation?v(i.BaseObjectCelestialObjectId,i.BaseObjectCelestialObjectId!==0?!0:!1,i.BaseObjectAngleId,IsNullOrUndefined(i.BaseObjectAngleId)?!1:!0,i.CelestialObjectId,i.CelestialObjectId!==0?!0:!1,i.AngleId,IsNullOrUndefined(i.AngleId)?!1:!0):null,c=i.BaseObjectValidForInterpretation&&i.ThisObjectValidForInterpretation?' <a href="#" onclick="EnteredChartDetails.GetInterpretation(\'#'+o+"', "+u[0]+", "+u[1]+", "+t.AspectId+", "+u[2]+", "+u[3]+');return false;"><span class="fa fa-search"><\/span><\/a>':"";e.html(i.CelestialObjectName+" ("+i.Degrees+'° <span class="'+i.HtmlTextCssClass+'">'+i.SignAbbreviation+"<\/span> "+i.Minutes+"' "+i.Seconds+'"'+s+h+")"+c);r.append(e)});i.append(r);$("#aspectlist").append(i)})}).fail(function(){console.log("Aspect List Load failure..")});$.ajaxSetup({cache:!0})}function nt(n,i){t=!1;r=!0;$.ajaxSetup({cache:!1});$("#aspecttarget").empty();$("#aspectlist").empty();$("#aspecttarget").html("Aspects to "+n+" ("+i+")");var u=$.getJSON("/EnteredCharts/GetAspectChartObjectsForDraconicObject",{chartId:$("#enteredchartid").val(),draconicName:n,draconicCoordinates:i,draconic:$("#includedraconic").is(":checked"),arabic:$("#includearabic").is(":checked"),asteroids:$("#includeasteroids").is(":checked"),stars:$("#includestars").is(":checked"),houseSystemId:$("#charthousesystems").val()}).done(function(n){$.each(n,function(n,t){if(!t.aspectList||!t.aspectList.length)return!0;var i=$("<li/>").append($('<span class="'+t.HtmlTextCssClass+'">').text(t.AspectName)),r=$("<ul/>");$.each(t.aspectList,function(n,t){var i=f(t),u=!t.OrientationAbbreviation?"":" "+t.OrientationAbbreviation,e=t.House!=0?" | House "+t.House:"";i.html(t.CelestialObjectName+" ("+t.Degrees+'° <span class="'+t.HtmlTextCssClass+'">'+t.SignAbbreviation+"<\/span> "+t.Minutes+"' "+t.Seconds+'"'+u+e+")");r.append(i)});i.append(r);$("#aspectlist").append(i)})}).fail(function(){console.log("Aspect List Load failure..")});$.ajaxSetup({cache:!0})}function f(n){switch(n.CelestialObjectTypeName){case"Arabic Part":return n.Draconic===!0?$('<li class="arabic-part draconic"/>'):$('<li class="arabic-part"/>');case"Major Planet/Luminary":return n.Draconic===!0?$('<li class="planet-luminary draconic"/>'):$('<li class="planet-luminary"/>');case"Fixed Star":return $('<li class="fixed-star"/>');case"Angle/House Cusp":return n.Draconic===!0?$('<li class="house-cusp draconic"/>'):$('<li class="house-cusp"/>');default:return n.Draconic===!0?$('<li class="draconic"/>'):$("<li/>")}}function tt(){$.getJSON("/EnteredCharts/GetFullAutoCompleteForAsteroidFixedStar",{chartId:$("#enteredchartid").val()}).done(function(n){y=n}).fail(function(){console.log("AutoComplete Failed.")})}var t=!1,r=!1,y,i,o;$(".degree").focusout(function(){!IsInRange($(this).val(),0,29)&&$(this).val()?$(this).css("background-color","#f99").css("border-color","#cd0000"):$(this).css("background-color","#fff").css("border-color","#0000cd")});$(".minutes").focusout(function(){!IsInRange($(this).val(),0,59)&&$(this).val()?$(this).css("background-color","#f99").css("border-color","#cd0000"):$(this).css("background-color","#fff").css("border-color","#0000cd")});$(".seconds").focusout(function(){!IsInRange($(this).val(),0,59)&&$(this).val()?$(this).css("background-color","#f99").css("border-color","#cd0000"):$(this).css("background-color","#fff").css("border-color","#0000cd")});$(".asteroid-fixed-star-name").autocomplete({source:function(n,t){$.getJSON("/EnteredCharts/GetAutoCompleteForAsteroidFixedStar",{chartId:$("#enteredchartid").val(),enteredName:n.term}).done(function(n){t($.map(n,function(n){return{id:n.CelestialObjectId,label:n.CelestialObjectName,value:n.CelestialObjectName,exists:n.ObjectExists}}))}).fail(function(){console.log("AutoComplete Failed.")})},minLength:2,select:function(n,t){var i="#"+$(this).attr("id").replace("ObjectName","")+"CelestialObjectId",r="#"+$(this).attr("id").replace("ObjectName","")+"SelectedObjectName";t.item?($(i).val(t.item.id),$(r).val(t.item.value),t.item.exists?$(this).css("background-color","#fdfd36"):$(this).css("background-color","#fff")):($(i).val(""),$(r).val($(this).val()))}});$(".asteroid-fixed-star-name").blur(function(){var n="#"+$(this).attr("id").replace("ObjectName","")+"SelectedObjectName";$(n).val($(this).val())});i=$("#chartloading").hide();o=$("#aspectloading").hide();$(document).ajaxStart(function(){t===!0?($("#chartbody").empty(),i.show()):r===!0&&o.show()}).ajaxStop(function(){i.hide();o.hide();t=!1;r=!1});n.OpenEditForm=p;$("#addPlanets").click(function(){$.ajaxSetup({cache:!1});$("#newPlanetCoordinatesModal").modal("show");var n=$.getJSON("/EnteredCharts/GetIfPlanetsExist",{chartId:$("#enteredchartid").val()}).done(function(n){$.each(n,function(n,t){$("charttype").val()!=="Heliocentric"&&t.CelestialObjectName==="Earth"||$("charttype").val()==="Heliocentric"&&t.CelestialObjectName==="Sun"||t.ObjectExists?$("#new"+t.CelestialObjectName+"Coordinates").hide():($("#new"+t.CelestialObjectName+"Coordinates").show(),$("#new"+t.CelestialObjectName+"CoordinatesDegrees").val(""),$("#new"+t.CelestialObjectName+"CoordinatesSigns").val("---"),$("#new"+t.CelestialObjectName+"CoordinatesMinutes").val(""),$("#new"+t.CelestialObjectName+"CoordinatesSeconds").val(""),$("#new"+t.CelestialObjectName+"CoordinatesOrientations").val("1"))})}).fail(function(n,t,i){var r=t+", "+i;console.log("Chart Reload failure: "+r)});$.ajaxSetup({cache:!0})});$("#addSecondaries").click(function(){$.ajaxSetup({cache:!1});$("#newSecondaryCoordinatesModal").modal("show");var n=$.getJSON("/EnteredCharts/GetIfSecondaryObjectsExist",{chartId:$("#enteredchartid").val()}).done(function(n){$.each(n,function(n,t){t.ObjectExists?$("#new"+t.CelestialObjectName.replace(" ","")+"Coordinates").hide():($("#new"+t.CelestialObjectName.replace(" ","")+"Coordinates").show(),$("#new"+t.CelestialObjectName.replace(" ","")+"CoordinatesDegrees").val(""),$("#new"+t.CelestialObjectName.replace(" ","")+"CoordinatesSigns").val("---"),$("#new"+t.CelestialObjectName.replace(" ","")+"CoordinatesMinutes").val(""),$("#new"+t.CelestialObjectName.replace(" ","")+"CoordinatesSeconds").val(""),$("#new"+t.CelestialObjectName.replace(" ","")+"CoordinatesOrientations").val("1"))})}).fail(function(n,t,i){var r=t+", "+i;console.log("Chart Reload failure: "+r)});$.ajaxSetup({cache:!0})});$("#addAsteroids").click(function(){$.ajaxSetup({cache:!1});$("#newAsteroidCoordinatesModal").modal("show");for(var n=0;n<10;n++)$("#newAsteroid"+n+"CoordinatesObjectName").val(""),$("#newAsteroid"+n+"CoordinatesSelectedObjectName").val(""),$("#newAsteroid"+n+"CoordinatesObjectName").css("background-color","#fff"),$("#newAsteroid"+n+"CoordinatesDegrees").val(""),$("#newAsteroid"+n+"CoordinatesSigns").val("---"),$("#newAsteroid"+n+"CoordinatesMinutes").val(""),$("#newAsteroid"+n+"CoordinatesSeconds").val(""),$("#newAsteroid"+n+"CoordinatesOrientations").val("1");$.ajaxSetup({cache:!0})});$("#saveNewPlanets").click(function(){$.ajaxSetup({cache:!1});$.each({1:"Sun",2:"Moon",3:"Mercury",4:"Venus",5:"Earth",6:"Mars",7:"Jupiter",8:"Saturn",9:"Uranus",10:"Neptune",11:"Pluto"},function(n,t){if($("#new"+t+"Coordinates").is(":visible")&&IsInRange($("#new"+t+"CoordinatesDegrees").val(),0,29)&&$("#new"+t+"CoordinatesSigns").val()!=="---"&&IsInRange($("#new"+t+"CoordinatesMinutes").val(),0,59)&&IsInRange($("#new"+t+"CoordinatesSeconds").val(),0,59))var i=$.getJSON("/EnteredCharts/CreateChartObjectForEnteredChart",{enteredChartId:$("#enteredchartid").val(),degrees:$("#new"+t+"CoordinatesDegrees").val(),signId:$("#new"+t+"CoordinatesSigns").val(),minutes:$("#new"+t+"CoordinatesMinutes").val(),seconds:$("#new"+t+"CoordinatesSeconds").val(),orientationId:$("#new"+t+"CoordinatesOrientations").val(),celestialObjectId:$("#new"+t+"CoordinatesCelestialObjectId").val()}).done(function(){}).fail(function(n,t,i){var r=t+", "+i;console.log("New Planet Entry failure: "+r)})});t=!0;$("#chartbody").empty();i.show();u($("#enteredchartid").val());e($("#enteredchartid").val());i.hide();t=!1;$("#newPlanetCoordinatesModal").modal("hide");$.ajaxSetup({cache:!0})});$("#saveNewSecondaries").click(function(){$.ajaxSetup({cache:!1});$.each({12:"MeanNode",13:"TrueNode",14:"Chiron",15:"Lilith",106:"Ceres",107:"Pallas",108:"Juno",109:"Vesta"},function(n,t){if($("#new"+t+"Coordinates").is(":visible")&&IsInRange($("#new"+t+"CoordinatesDegrees").val(),0,29)&&$("#new"+t+"CoordinatesSigns").val()!=="---"&&IsInRange($("#new"+t+"CoordinatesMinutes").val(),0,59)&&IsInRange($("#new"+t+"CoordinatesSeconds").val(),0,59))var i=$.getJSON("/EnteredCharts/CreateChartObjectForEnteredChart",{enteredChartId:$("#enteredchartid").val(),degrees:$("#new"+t+"CoordinatesDegrees").val(),signId:$("#new"+t+"CoordinatesSigns").val(),minutes:$("#new"+t+"CoordinatesMinutes").val(),seconds:$("#new"+t+"CoordinatesSeconds").val(),orientationId:$("#new"+t+"CoordinatesOrientations").val(),celestialObjectId:$("#new"+t+"CoordinatesCelestialObjectId").val()}).done(function(){}).fail(function(n,t,i){var r=t+", "+i;console.log("New Secondary Object Entry failure: "+r)})});t=!0;$("#chartbody").empty();i.show();u($("#enteredchartid").val());e($("#enteredchartid").val());i.hide();t=!1;$("#newSecondaryCoordinatesModal").modal("hide");$.ajaxSetup({cache:!0})});$("#saveNewAsteroids").click(function(){$.ajaxSetup({cache:!1});$.ajaxSetup({async:!1});for(var n=0;n<10;n++)IsNullOrUndefined($("#newAsteroid"+n+"CoordinatesSelectedObjectName").val())||$("#newAsteroid"+n+"CoordinatesSelectedObjectName").val()===""||h($("#newAsteroid"+n+"CoordinatesSelectedObjectName").val(),n);t=!0;$("#chartbody").empty();i.show();u($("#enteredchartid").val());i.hide();t=!1;$("#newAsteroidCoordinatesModal").modal("hide");$.ajaxSetup({async:!0});$.ajaxSetup({cache:!0})});n.ProcessNewAsteroidOrFixedStar=h;n.GetCelestialObjectId=c;n.SaveNewCelestialObject=l;n.SaveNewAsteroidOrFixedStar=a;$("#editHouses").click(function(){var i,r;$.ajaxSetup({cache:!1});i=$("#enteredchartid").val();r=$("#charthousesystems").val();$("#editHouseModal").modal("show");$("#editHouseSystem").val(r);var n={1:"FirstHouse",2:"SecondHouse",3:"ThirdHouse",4:"FourthHouse",5:"FifthHouse",6:"SixthHouse",7:"SeventhHouse",8:"EighthHouse",9:"NinthHouse",10:"TenthHouse",11:"EleventhHouse",12:"TwelfthHouse"},t={0:"Vertex",1:"Ascendant",2:"Midheaven"},u=$.getJSON("/EnteredCharts/GetDetailsHouseListing",{chartId:i,houseSystemId:r}).done(function(t){$.each(n,function(n,t){$("#edit"+t+"ChartHouseId").val("");$("#edit"+t+"CoordinatesDegrees").val("");$("#edit"+t+"CoordinatesSigns").val("---");$("#edit"+t+"CoordinatesMinutes").val("");$("#edit"+t+"CoordinatesSeconds").val("")});$.each(t,function(t,i){$("#edit"+n[i.HouseId]+"ChartHouseId").val(i.ChartHouseId);$("#edit"+n[i.HouseId]+"CoordinatesDegrees").val(("0"+i.Degrees).slice(-2));$("#edit"+n[i.HouseId]+"CoordinatesSigns").val(i.SignId);$("#edit"+n[i.HouseId]+"CoordinatesMinutes").val(("0"+i.Minutes).slice(-2));$("#edit"+n[i.HouseId]+"CoordinatesSeconds").val(("0"+i.Seconds).slice(-2))})}).fail(function(n,t,i){var r=t+", "+i;console.log("Chart Reload failure: "+r)}),u=$.getJSON("/EnteredCharts/GetDetailsAngleListing",{chartId:i}).done(function(n){$.each(t,function(n,t){$("#edit"+t+"ChartAngleId").val("");$("#edit"+t+"CoordinatesDegrees").val("");$("#edit"+t+"CoordinatesSigns").val("---");$("#edit"+t+"CoordinatesMinutes").val("");$("#edit"+t+"CoordinatesSeconds").val("")});$.each(n,function(n,i){$("#edit"+t[i.AngleId]+"ChartAngleId").val(i.ChartAngleId);$("#edit"+t[i.AngleId]+"CoordinatesDegrees").val(("0"+i.Degrees).slice(-2));$("#edit"+t[i.AngleId]+"CoordinatesSigns").val(i.SignId);$("#edit"+t[i.AngleId]+"CoordinatesMinutes").val(("0"+i.Minutes).slice(-2));$("#edit"+t[i.AngleId]+"CoordinatesSeconds").val(("0"+i.Seconds).slice(-2))})}).fail(function(n,t,i){var r=t+", "+i;console.log("Chart Reload failure: "+r)});$.ajaxSetup({cache:!0})});$("#saveCoordinateChanges").click(function(){$.ajaxSetup({cache:!1});var n=$.post("/EnteredCharts/UpdateChartObjectForEnteredChart",{chartObjectId:$("#editCoordinatesChartObjectId").val(),degrees:$("#editCoordinatesDegrees").val(),signId:$("#editCoordinatesSigns").val(),minutes:$("#editCoordinatesMinutes").val(),seconds:$("#editCoordinatesSeconds").val(),orientationId:$("#editCoordinatesOrientations").val()}).done(function(){t=!0;$("#chartbody").empty();i.show();u($("#editCoordinatesEnteredChartId").val());i.hide();t=!1}).fail(function(){console.log("Save Fail.");return});$("#editCoordinatesModal").modal("hide");$.ajaxSetup({cache:!0})});n.SaveHouseSystemChanges=w;n.GetHouseListing=s;n.HideAddButtons=e;n.GetListing=u;n.GetAspects=b;n.GetInterpretation=k;n.GetAspectsForArabicChart=d;n.GetAspectsForAngleChart=g;n.GetAspectsForDraconicChart=nt;n.SetUpListItemElementForAspect=f;n.GetAsteroidAndFixedStartAutocomplete=tt;$(document).ready(function(){u($("#enteredchartid").val());s($("#enteredchartid").val());e($("#enteredchartid").val())})})(EnteredChartDetails||(EnteredChartDetails={}));
//# sourceMappingURL=entered-chart-details.min.js.map
